{
    "name": "Configuration",
    "tables": [
        {
            "name": "Types",
            "isEnum": true,
            "enumItems": [
                {
                    "key": "Text",
                    "value": 1
                },
                {
                    "key": "Integer",
                    "value": 2
                },
                {
                    "key": "PositiveInteger",
                    "value": 3
                },
                {
                    "key": "Decimal",
                    "value": 4
                },
                {
                    "key": "Boolean",
                    "value": 5
                },
                {
                    "key": "NullableBoolean",
                    "value": 6
                },
                {
                    "key": "Color",
                    "value": 7
                },
                {
                    "key": "SingleChoice",
                    "value": 8
                },
                {
                    "key": "MultipleChoice",
                    "value": 9
                }
            ]
        },
        {
            "name": "ConfigItems",
            "columns": [
                {
                    "name": "Name",
                    "isUnique": true
                },
                {
                    "name": "TypeId"
                }
            ]
        },
        {
            "name": "Options",
            "columns": [
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "Value"
                }
            ]
        },
        {
            "name": "SystemConfigs",
            "columns": [
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "isNullable": true
                }
            ]
        },
        {
            "name": "UserConfigItems",
            "columns": [
                {
                    "name": "ConfigItemId",
                    "isUnique": true
                }
            ]
        },
        {
            "name": "UserConfigs",
            "columns": [
                {
                    "name": "UserGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "isNullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "UserGuid",
                        "ConfigItemId"
                    ],
                    "isUnique": true
                }
            ]
        },
        {
            "name": "EntityTypeConfigs",
            "columns": [
                {
                    "name": "EntityTypeGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "isNullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "EntityTypeGuid",
                        "ConfigItemId"
                    ],
                    "isUnique": true
                }
            ]
        },
        {
            "name": "EntityConfigs",
            "columns": [
                {
                    "name": "EntityGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "isNullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "EntityGuid",
                        "ConfigItemId"
                    ],
                    "isUnique": true
                }
            ]
        }
    ],
    "views": [
        {
            "name": "ConfigItemViews",
            "query": [
                "select",
                "    ConfigItems.Id,",
                "    ConfigItems.[Name],",
                "    ConfigItems.TypeId,",
                "    Types.[Key] as TypeKey",
                "from ConfigItems",
                "inner join Types ",
                "on ConfigItems.TypeId = Types.Id"
            ]
        },
        {
            "name": "SystemConfigViews",
            "query": [
                "select",
                "    SystemConfigs.Id,",
                "    SystemConfigs.ConfigItemId,",
                "    SystemConfigs.CurrentValue,",
                "    ConfigItems.[Name] as ConfigItemName,",
                "    ConfigItems.TypeId,",
                "    Types.[Key] as TypeKey",
                "from SystemConfigs",
                "inner join ConfigItems",
                "on SystemConfigs.ConfigItemId = ConfigItems.Id",
                "inner join Types",
                "on ConfigItems.TypeId = Types.Id"
            ]
        },
        {
            "name": "UserConfigViews",
            "query": [
                "select",
                "    UserConfigs.Id,",
                "    UserConfigs.UserGuid,",
                "    UserConfigs.ConfigItemId,",
                "    UserConfigs.CurrentValue,",
                "    ConfigItems.[Name] as ConfigItemName,",
                "    ConfigItems.TypeId,",
                "    Types.[Key] as TypeKey",
                "from UserConfigs",
                "inner join ConfigItems",
                "on UserConfigs.ConfigItemId = ConfigItems.Id",
                "inner join Types",
                "on ConfigItems.TypeId = Types.Id"
            ]
        }
    ]
}