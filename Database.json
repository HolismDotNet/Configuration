{
    "name": "Configuration",
    "tables": [
        {
            "name": "ConfigTypes",
            "isEnum": true,
            "enumItems": [
                {
                    "key": "Text",
                    "value": 1
                },
                {
                    "key": "Integer",
                    "value": 2
                },
                {
                    "key": "PositiveInteger",
                    "value": 3
                },
                {
                    "key": "Decimal",
                    "value": 4
                },
                {
                    "key": "Boolean",
                    "value": 5
                },
                {
                    "key": "NullableBoolean",
                    "value": 6
                },
                {
                    "key": "Color",
                    "value": 7
                },
                {
                    "key": "SingleChoice",
                    "value": 8
                },
                {
                    "key": "MultipleChoice",
                    "value": 9
                }
            ]
        },
        {
            "name": "ConfigItems",
            "columns": [
                {
                    "name": "Name",
                    "unique": true
                },
                {
                    "name": "ConfigTypeId"
                }
            ]
        },
        {
            "name": "Options",
            "columns": [
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "Value"
                }
            ]
        },
        {
            "name": "SystemConfigs",
            "columns": [
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "nullable": true
                }
            ]
        },
        {
            "name": "UserConfigItems",
            "columns": [
                {
                    "name": "ConfigItemId",
                    "unique": true
                }
            ]
        },
        {
            "name": "UserConfigs",
            "columns": [
                {
                    "name": "UserGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "nullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "UserGuid",
                        "ConfigItemId"
                    ],
                    "unique": true
                }
            ]
        },
        {
            "name": "EntityTypeConfigs",
            "columns": [
                {
                    "name": "EntityTypeGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "nullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "EntityTypeGuid",
                        "ConfigItemId"
                    ],
                    "unique": true
                }
            ]
        },
        {
            "name": "EntityConfigItems",
            "columns": [
                {
                    "name": "EntityTypeGuid"
                },
                {
                    "name": "ConfigItemId"
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "EntityTypeGuid",
                        "ConfigItemId"
                    ],
                    "unique": true
                }
            ]
        },
        {
            "name": "EntityConfigs",
            "columns": [
                {
                    "name": "EntityGuid"
                },
                {
                    "name": "ConfigItemId"
                },
                {
                    "name": "CurrentValue",
                    "nullable": true
                }
            ],
            "indexes": [
                {
                    "columns": [
                        "EntityGuid",
                        "ConfigItemId"
                    ],
                    "unique": true
                }
            ]
        }
    ],
    "views": [
        {
            "name": "ConfigItemViews",
            "query": [
                "select",
                "    ci.Id,",
                "    ci.Name,",
                "    ci.ConfigTypeId,",
                "    ct.`Key` as TypeKey",
                "from ConfigItems ci",
                "inner join ConfigTypes ct",
                "on ci.ConfigTypeId = ct.Id"
            ]
        },
        {
            "name": "SystemConfigViews",
            "query": [
                "select",
                "    sc.Id,",
                "    sc.ConfigItemId,",
                "    sc.CurrentValue,",
                "    civ.Name as ConfigItemName,",
                "    civ.ConfigTypeId,",
                "    civ.TypeKey",
                "from SystemConfigs sc",
                "inner join ConfigItemViews civ",
                "on sc.ConfigItemId = civ.Id"
            ]
        },
        {
            "name": "UserConfigViews",
            "query": [
                "select",
                "    uc.Id,",
                "    uc.UserGuid,",
                "    uc.ConfigItemId,",
                "    uc.CurrentValue,",
                "    civ.Name as ConfigItemName,",
                "    civ.ConfigTypeId,",
                "    civ.TypeKey",
                "from UserConfigs uc",
                "inner join ConfigItemViews civ",
                "on uc.ConfigItemId = civ.Id"
            ]
        },
        {
            "name": "EntityConfigViews",
            "query": [
                "select",
                "    ec.Id,",
                "    ec.EntityGuid,",
                "    ec.ConfigItemId,",
                "    ec.CurrentValue,",
                "    civ.Name as ConfigItemName,",
                "    civ.ConfigTypeId,",
                "    civ.TypeKey",
                "from EntityConfigs ec",
                "inner join ConfigItemViews civ",
                "on ec.ConfigItemId = civ.Id"
            ]
        },
        {
            "name": "EntityConfigItemViews",
            "query": [
                "select",
                "    eci.Id,",
                "    eci.EntityTypeGuid,",
                "    eci.ConfigItemId,",
                "    civ.Name as ConfigItemName,",
                "    civ.ConfigTypeId,",
                "    civ.TypeKey",
                "from EntityConfigItems eci",
                "inner join ConfigItemViews civ",
                "on eci.ConfigItemId = civ.Id"
            ]
        }
    ]
}